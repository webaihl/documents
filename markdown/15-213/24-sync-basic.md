# 并发基础

## volatile

> 避免变量被寄存器存储，只能直接读写内存

## 切回内核

1. 系统调用
2. 定时器中断

## Semaphores

1. P操作
   + 数量原子操作-1，为0时挂起线程(进入阻塞队列)，并将控制权转交给内核
2. V操作
   + 数量原子操作+1，以某种**策略**，**不确定**的唤醒阻塞中的线程，内核将控制权转交给激活的线程

