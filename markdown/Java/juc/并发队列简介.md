# 并发队列简介

1. 常用方法对比

|                      | ConcurrentLinkedLock        | LinkedBlockingQueue                         | ArrayBlockingQueue                          | PriorityBlockingQueue                       | DelayQueue                                  |
| :------------------: | --------------------------- | ------------------------------------------- | ------------------------------------------- | ------------------------------------------- | ------------------------------------------- |
|       是否阻塞       | 非阻塞 CAS                  | 阻塞 全局独占锁                             | 阻塞 全局独占锁                             | 阻塞                                        | 阻塞                                        |
|       底层实现       | 单向链表,无界队列           | 单向链表,有界队列                           | 数组，有界队列                              | 平衡二叉树，无界队列                        | PriorityQueue无界延迟                       |
|   offer(队尾增加)    | NPE. 一直尝试直到true       | NPE.有空插入,无空丢弃.非阻塞                | NPE.有空插入,无空丢弃.非阻塞                | NPE.always true,tryGrow                     | NPE.always true                             |
| poll(队头获取并删除) | 为空返null                  | 非阻塞.为空返null                           | 非阻塞.为空返null                           | 非阻塞.为空返null                           | 非阻塞.无则返null                           |
| peek(队头获取不删除) | 为空返null                  | 非阻塞.为空返null                           | 非阻塞.为空返null                           |                                             |                                             |
|         size         | cas无锁不准确               | 加锁准确                                    | 加锁准确                                    | 加锁准确                                    | 包含(未)过期                                |
|        remove        | 多个删除第一个，无返回false | 有则删除、无则false                         | 有则删除、无则false                         |                                             |                                             |
|       contains       | cas无锁不准确               | 加锁准确                                    | 加锁准确                                    | 加锁准确                                    |                                             |
|       自有方法       | add(e)  --> poll(e)         | put()有空插入,无空阻塞<br />可中断,NPE      | put()有空插入,无空阻塞<br />可中断,NPE      | put(e)  --> offer(e)                        |                                             |
|                      |                             | take(),队头获取并删除<br />队空阻塞、中断Ex | take(),队头获取并删除<br />队空阻塞、中断Ex | take(),队头获取并删除<br />队空阻塞、中断Ex | take(),队头获取并删除<br />队空阻塞、中断Ex |

